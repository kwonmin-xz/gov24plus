import{a6 as f,r as o,q as S}from"./DSfHGzKa.js";const C=f("itrstSrvcStore",()=>{const n=o([]),s=o(null),c=o(!1);async function i(t){n.value.length===0&&await l(t)}async function l(t){c.value=!0,s.value=null;try{const e=S().public.userApiUrl,d=(await $fetch(`${e}/mypage/mbrInfo/getMbrItrstSrvc?id=${t}`)||[]).map(r=>{let a="";return r.JRSDSYSSECD==="SVCJS001"?a=`/search/searchdtl?srvcId=${r.SRVCID}&typeSn=${r.TYPESN}`:r.JRSDSYSSECD==="SVCJS002"&&(a=r.GOV24URL),{srvcId:r.SRVCID,srvcNm:r.SRVCNM,typeSn:r.TYPESN,srvcCn:r.SRVCCN,jrsdSysSeCd:r.JRSDSYSSECD,srvcUrl:a}});n.value=d}catch{s.value="Failed to fetch interest services."}finally{c.value=!1}}async function u(t){try{const e=S().public.userApiUrl;return await $fetch(`${e}/mypage/mbrInfo/insertMbrItrstSrvc`,{method:"POST",headers:{"Content-Type":"application/json"},body:t,credentials:"include"})}catch{s.value="관심서비스 저장 중 문제가 발생했습니다."}}async function p(t){try{const e=S().public.userApiUrl;await $fetch(`${e}/mypage/mbrInfo/removeMbrItrstSrvc`,{method:"POST",headers:{"Content-Type":"application/json"},body:t,credentials:"include"})}catch{s.value="관심서비스 해제 중 문제가 발생했습니다."}}return{services:n,error:s,loading:c,init:i,getMbrItrstSrvc:l,insertItrstSrvc:u,removeMbrItrstSrvc:p}});export{C as u};
