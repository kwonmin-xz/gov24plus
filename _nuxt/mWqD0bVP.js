import{a6 as b,q as l,r as c,a3 as A,a4 as P}from"./DSfHGzKa.js";const T=b("checkPswdStore",{state:()=>({chkPswdValid:!1,isPswdValid:null,loading:!1,error:null}),actions:{async verifyPswd(n){this.loading=!0,this.error=null;try{const r=l().public.userApiUrl,s=await(await fetch(`${r}/mypage/mbrInfo/checkMbrPswd`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({inputPswd:n})})).json();this.isPswdValid=s?"Y":"N"}catch{this.error="비밀번호 확인에 실패했습니다."}finally{this.loading=!1}}}}),v=b("checkMbrStore",()=>{const n=c(null),r=c("");async function a(s){try{const o=l().public.userApiUrl,i=await $fetch(`${o}/mypage/mbrInfo/getMbrLastLgn`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:{id:s}});r.value=i}catch{n.value="마지막 로그인 정보를 불러오지 못했습니다."}}return{lastLogin:r,getMbrLastLgn:a,error:n}}),I=b("agreInfoStore",()=>{const n=c({});async function r(a){try{const s=l().public.userApiUrl,o=await $fetch(`${s}/mypage/mbrInfo/getAgreInfo`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:{id:a}});n.value=o}catch{}}return{agreInfo:n,getAgreInfo:r}}),U=b("getMbrCntStore",()=>{const n=c(!0),r=c(!0),a=c(!0),s=c(!0),o=c(!0),i=c(!0),u=c(!0);return{loadingPrintable:n,loadingBenefit:r,loadingMwResult:a,loadingMyLifeInfo:s,loadingElecSubmit:o,loadingPlusAplyCnt:i,loadingPlusPrintCnt:u,getPrintableCnt:async e=>{n.value=!0;try{const t=l().public.memberApiUrl;return await $fetch(`${t}/mypage/gov24Api/getPrintableCnt`,{method:"POST",headers:{"Content-Type":"application/json"},body:e})}catch{return null}finally{n.value=!1}},getBenefitCnt:async e=>{r.value=!0;try{const t=l().public.memberApiUrl;return await $fetch(`${t}/mypage/gov24Api/getBenefitCnt`,{method:"POST",headers:{"Content-Type":"application/json"},body:e})}catch{return null}finally{r.value=!1}},getMwResultCnt:async e=>{a.value=!0;try{const t=l().public.memberApiUrl;return await $fetch(`${t}/mypage/gov24Api/getMwResultCnt`,{method:"POST",headers:{"Content-Type":"application/json"},body:e})}catch{return null}finally{a.value=!1}},getMyLifeInfoCnt:async e=>{s.value=!0;try{const t=l().public.memberApiUrl;return await $fetch(`${t}/mypage/gov24Api/getMyLifeInfoCnt`,{method:"POST",headers:{"Content-Type":"application/json"},body:e})}catch{return null}finally{s.value=!1}},getElecSubmitCnt:async e=>{if(!e.userId||e.userId=="undefined")return;o.value=!0;let t=0,p;const w=A("2",JSON.stringify(e));try{const C=await(await fetch("/api/iwcas/issue/v1.0/elDocIssuCnt",{method:"POST",headers:{"Content-Type":"application/json"},body:w})).text(),d=JSON.parse(P("2",C));if(d.rsltCd==="200")return t=Number(d.rsltDat.elDocIssuCnt),p=String(d.rsltDat.ecdwTyCode),{elecSubmitCnt:t,ecdwTyCode:p}}catch{return null}finally{o.value=!1}},getMyPlusCnt:async e=>{let t=0,p=0;if(!e.aplctRrno||e.aplctRrno=="undefined"||e.aplctRrno=="")return null;e.aplctId=="null"&&(e.aplctId=""),i.value=!0;const w=A("2",JSON.stringify(e));try{const C=await(await fetch("/api/iwcas/prcs/v1.0/aplyDsctnList",{method:"POST",headers:{"Content-Type":"application/json"},body:w})).text(),d=JSON.parse(P("2",C));d.rsltCd==="200"&&(t=Number(d.rsltDat.wholArtclCnt))}catch{return null}finally{i.value=!1}u.value=!0;try{const C=await(await fetch("/api/iwcas/prcs/v1.0/aplyDsctnOtptPsblyCnt",{method:"POST",headers:{"Content-Type":"application/json"},body:w})).text(),d=JSON.parse(P("2",C));d.rsltCd==="200"&&(p=Number(d.rsltDat.otptPsbltyCnt))}catch{return null}finally{u.value=!1}return{wholeAplyCnt:t,wholeOtptPsbltyCnt:p}}}}),$=b("updateMbrStore",()=>{const n=c(null),r=c(null);async function a(i){try{const u=l().public.userApiUrl;return await $fetch(`${u}/mypage/mbrInfo/updateMbrInfo`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:i})}catch{return"error"}}async function s(i,u,y,h){try{const g=l().public.memberApiUrl;return await $fetch(`${g}/mypage/mbrInfo/chkMbrNmNo`,{method:"POST",body:{mbrChkNm:i,mbrChkNo:u,userId:y,userDtlSeCd:h},credentials:"include"})}catch{r.value="실명인증 서비스에 문제가 있습니다."}}async function o(i){var u,y;try{const h=l().public.brnoApiUrl,g=l().public.brnoApiKey,f=await $fetch(`${h}?serviceKey=${g}`,{method:"POST",body:JSON.stringify({b_no:[i]}),headers:{"Content-Type":"application/json"}}),S=((y=(u=f==null?void 0:f.data)==null?void 0:u[0])==null?void 0:y.b_stt_cd)||"정보 없음";return f.status_code=="OK"?S=="03"?"03":S=="02"?"02":S=="01"?"true":"false":f}catch{return{error:"사업자 등록번호 조회 서비스에 문제가 있습니다."}}}return{mbrInfo:n,updateMemberInfo:a,chkMbrNmNo:s,chkBrNo:o}}),N=b("getMyDataStore",()=>{async function n(r,a){try{const s=l().public.memberApiUrl;return await $fetch(`${s}/mypage/mbrInfo/getMyDataInfo`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:{deviceID:r,userId:a}})}catch{return"error"}}return{getMyDataInfo:n}});export{I as a,$ as b,v as c,N as d,T as e,U as u};
