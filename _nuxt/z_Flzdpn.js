import{_ as l,o,c as n,a as r,f as d,h as c,q as m}from"./DSfHGzKa.js";const f={data(){return{isModalVisible:!1,iframeSrc:"/simpleCert.html"}},mounted(){const{public:s}=m();s.excnInfo==="stg"?this.iframeSrc="/simpleCertStg.html":this.iframeSrc="/simpleCert.html"},methods:{openModal(){this.isModalVisible=!0,window.addEventListener("message",this.handleIframeMessage)},closeModal(){this.isModalVisible=!1,window.removeEventListener("message",this.handleIframeMessage)},handleIframeMessage(s){s.data==="close-modal"&&this.closeModal()},setupPostMessageListener(){window.addEventListener("message",this.handlePostMessage)},handlePostMessage(s){if(s.origin!==window.location.origin)return;const e=s.data;e&&e.status==="success"?this.$emit("auth-success",e):this.$emit("auth-fail",e)}}},u=["src"];function h(s,e,g,M,i,t){return o(),n("div",null,[i.isModalVisible?(o(),n("div",{key:0,class:"modal-backdrop",onClick:e[2]||(e[2]=(...a)=>t.closeModal&&t.closeModal(...a))},[r("div",{class:"modal-container",onClick:e[1]||(e[1]=d(()=>{},["stop"]))},[r("iframe",{src:i.iframeSrc,class:"modal-iframe",frameborder:"0",onLoad:e[0]||(e[0]=(...a)=>t.setupPostMessageListener&&t.setupPostMessageListener(...a))},null,40,u)])])):c("",!0)])}const _=l(f,[["render",h],["__scopeId","data-v-7876575e"]]);export{_};
